(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define([],b):'object'==typeof exports?exports['svg-slider']=b():a['svg-slider']=b()})(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var d=c(1);b['default']=function(a,b={}){function e(){h(c.initial_value?c.initial_value:c.default_value)}function f(a){return null===c.value_resolution?a:Math.round(a/c.value_resolution)*c.value_resolution}function g(b){let a=void 0===b?L:b,d=a/c.track_length*(c.value_max-c.value_min)+c.value_min;return f(d)}function h(a){return K=a<c.value_min?c.value_min:a>c.value_max?c.value_max:a,i((a-c.value_min)/(c.value_max-c.value_min)*c.track_length),!0}function i(a,b){let d=L,e=b&&a!==L;L=z(A(a,0),c.track_length),e&&g(d)!==g()&&p()}function j(a){i(L+a,!0)}function k(a){let b=a.clientY-I.top,d=q(b/I.height*D+c.track_offset);i(d,!0)}function l(a){a.preventDefault(),I=E.getBoundingClientRect(),document.addEventListener('mousemove',m,!1),document.addEventListener('mouseup',n,!1),k(a),y()}function m(a){a.preventDefault(),k(a),y()}function n(){document.removeEventListener('mousemove',m,!1),document.removeEventListener('mouseup',n,!1)}function o(a){var b=Math.abs;a.preventDefault();let d=a.deltaY;return 0!==d&&(J>b(d)||!J)&&(J=b(d)),j(d/J*M*c.mouse_wheel_acceleration),y(),!1}function p(){let b=g(),d=new CustomEvent('change',{detail:b});a.dispatchEvent(d),c.onchange&&c.onchange(b)}function q(a){return z(A(D-a,0),D)}function r(){c.bg&&(N=document.createElementNS(C,'rect'),N.setAttributeNS(null,'x','0'),N.setAttributeNS(null,'y','0'),N.setAttributeNS(null,'width',`${c.width}`),N.setAttributeNS(null,'height',`${D}`),N.setAttributeNS(null,'rx','0'),N.setAttributeNS(null,'ry','0'),N.setAttribute('fill',`${c.bg_color}`),N.setAttribute('stroke',`${c.bg_border_color}`),N.setAttribute('stroke-width',`${c.bg_border_width}`),N.setAttribute('class',c.class_bg),E.appendChild(N))}function s(){if(!c.markers)return;let a=(c.width-c.markers_length)/2,b=a+c.markers_length,d='',e=c.markers;for(let f,g=0;g<=e;g++)f=q(c.track_offset+c.track_length/e*g),d+=`M ${a},${f} L ${b},${f} `;R=document.createElementNS(C,'path'),R.setAttributeNS(null,'d',d),R.setAttribute('stroke',`${c.markers_color}`),R.setAttribute('stroke-width',`${c.markers_width}`),R.setAttribute('stroke-linecap',c.linecap),R.setAttribute('class',c.class_markers),E.appendChild(R)}function t(){c.track_bg&&(O=document.createElementNS(C,'rect'),O.setAttributeNS(null,'x',`${(c.width-c.track_bg_width)/2}`),O.setAttributeNS(null,'y',`${q(c.track_bg_offset+c.track_bg_length+c.track_bg_radius)}`),O.setAttributeNS(null,'width',`${c.track_bg_width}`),O.setAttributeNS(null,'height',`${c.track_bg_length+2*c.track_bg_radius}`),O.setAttributeNS(null,'rx',`${c.track_bg_radius}`),O.setAttributeNS(null,'ry',`${c.track_bg_radius}`),O.setAttribute('stroke',`${c.track_bg_border_color}`),O.setAttribute('stroke-width',`${c.track_bg_border_width}`),O.setAttribute('fill',`${c.track_bg_color}`),O.setAttribute('class',c.class_track_bg),E.appendChild(O))}function u(){c.track&&(!P&&(P=document.createElementNS(C,'rect'),P.setAttributeNS(null,'x',`${(c.width-c.track_width)/2}`),P.setAttributeNS(null,'width',`${c.track_width}`),P.setAttributeNS(null,'rx',`${c.track_radius}`),P.setAttributeNS(null,'ry',`${c.track_radius}`),P.setAttribute('stroke-width','0'),P.setAttribute('fill',`${c.track_color}`),P.setAttribute('class',c.class_track),E.appendChild(P)),P.setAttributeNS(null,'y',`${q(c.track_offset+L+c.track_radius)}`),P.setAttributeNS(null,'height',`${L+2*+c.track_radius}`))}function v(){c.cursor&&(!Q&&(Q=document.createElementNS(C,'rect'),Q.setAttributeNS(null,'x',`${(c.width-c.cursor_width)/2}`),Q.setAttributeNS(null,'width',`${c.cursor_width}`),Q.setAttributeNS(null,'height',`${c.cursor_height}`),Q.setAttributeNS(null,'rx',`${c.cursor_radius}`),Q.setAttributeNS(null,'ry',`${c.cursor_radius}`),Q.setAttribute('stroke-width','0'),Q.setAttribute('fill',`${c.cursor_color}`),Q.setAttribute('class',c.class_cursor),E.appendChild(Q)),Q.setAttributeNS(null,'y',`${q(c.track_offset+c.cursor_height/2+L)}`))}function w(){!c.value_text}function x(){r(),s(),t(),u(),v(),w()}function y(){u(),v(),T||(T=g()!==c.default_value),S}var z=Math.min,A=Math.max;if(!a)throw'You must pass a DOM node reference to the slider constructor';let B=!1;const C='http://www.w3.org/2000/svg',D=100;let E;'svg'===a.nodeName.toLowerCase()?E=a:(E=document.createElementNS('http://www.w3.org/2000/svg','svg'),a.appendChild(E));let F={width:20,bg_width:20,bg_border_width:1,markers:4,markers_length:18,markers_width:1,track_bg_offset:5,track_bg_length:90,track_bg_width:8,track_bg_radius:3,track_bg_border_width:2,track_offset:5,track_length:90,track_width:6,track_radius:3,cursor_width:14,cursor_height:6,cursor_border_width:0,cursor_radius:2,default_value:0,initial_value:0,value_min:0,value_max:100,value_resolution:1,palette:'lightgray',bg:!1,track_bg:!0,track:!0,cursor:!0,linecap:'butt',value_text:!0,format:(a)=>a,font_family:'sans-serif',font_size:25,font_weight:'bold',class_bg:'slider-bg',class_track_bg:'slider-track-bg',class_track:'slider-track',class_value:'slider-value',class_cursor:'slider-cursor',class_markers:'slider-markers',snap_to_steps:!1,mouse_wheel_acceleration:1,onchange:null},G=JSON.parse(a.dataset.config||'{}'),H=Object.assign({},F,d.a[F.palette],b,G),c=Object.assign(H,d.a[H.palette],b,G);E.setAttributeNS('http://www.w3.org/2000/xmlns/','xmlns:xlink','http://www.w3.org/1999/xlink'),E.setAttributeNS(null,'viewBox',`0 0 ${c.width} ${D}`);let I,J,K=0,L=0,M=1,N=null,O=null,P=null,Q=null,R=null,S=null,T=!1;return e(),x(),function(){E.addEventListener('mousedown',function(a){l(a)}),E.addEventListener('wheel',function(a){o(a)})}(),{set value(a){h(a),y()},set config(a){c=Object.assign({},F,b,a),e(),x()},enableDebug:function(){B=!0},disableDebug:function(){B=!1}}}},function(a,b){'use strict';b.a={lightgray:{bg_color:'#E0E0E0',bg_border_color:'#BDBDBD',track_bg_color:'#D0D0D0',track_bg_border_color:'#FFFFFF',track_color_init:'#64B5F6',track_color:'#42A5F5',cursor_color_init:'#64B5F6',cursor_color:'#3CA0F0',markers_color:'#AAAAAA',font_color:'#424242'},light:{bg_color:'#B1DAEE',bg_border_color:'#569DC0',track_bg_color:'#B1DAEE',track_bg_border_color:'#888',track_color_init:'#569DC0',track_color:'#1D6D93',cursor_color_init:'#569DC0',cursor_color:'#1D6D93',markers_color:'#3680A4',font_color:'#1D6D93'},dark:{bg:!1,track_bg:!0,track:!0,cursor:!0,bg_color:'#333',bg_border_color:'#888',track_bg_color:'#555',track_bg_border_color:'#373738',track_color_init:'#999',track_color:'#bbb',cursor_color_init:'#999',cursor_color:'#d3d347',markers_color:'#999',font_color:'#FFEA00'}}}])});