(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define([],b):'object'==typeof exports?exports.svgSlider=b():a.svgSlider=b()})(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default=function(a){function b(){g(c.initial_value?c.initial_value:c.default_value)}function d(a){return null===c.value_resolution?a:Math.round(a/c.value_resolution)*c.value_resolution}function f(b){var a=void 0===b?L:b,e=a/c.track_length*(c.value_max-c.value_min)+c.value_min;return d(e)}function g(a){return K=a<c.value_min?c.value_min:a>c.value_max?c.value_max:a,h((a-c.value_min)/(c.value_max-c.value_min)*c.track_length),!0}function h(a,b){var d=L,e=b&&a!==L;L=z(A(a,0),c.track_length),e&&f(d)!==f()&&o()}function i(a){h(L+a,!0)}function j(a){var b=a.clientY-I.top,d=q(b/I.height*E+c.track_offset);h(d,!0)}function k(a){a.preventDefault(),I=B.getBoundingClientRect(),document.addEventListener('mousemove',l,!1),document.addEventListener('mouseup',m,!1),j(a),x()}function l(a){a.preventDefault(),j(a),x()}function m(){document.removeEventListener('mousemove',l,!1),document.removeEventListener('mouseup',m,!1)}function n(a){var b=Math.abs;a.preventDefault();var d=a.deltaY;return 0!==d&&(J>b(d)||!J)&&(J=b(d)),i(d/J*M*c.mouse_wheel_acceleration),x(),!1}function o(){var b=f(),d=new CustomEvent('change',{detail:b});a.dispatchEvent(d),c.onchange&&c.onchange(b)}function q(a){return z(A(E-a,0),E)}function p(){c.bg&&(N=document.createElementNS(D,'rect'),N.setAttributeNS(null,'x','0'),N.setAttributeNS(null,'y','0'),N.setAttributeNS(null,'width',''+c.width),N.setAttributeNS(null,'height',''+E),N.setAttributeNS(null,'rx','0'),N.setAttributeNS(null,'ry','0'),N.setAttribute('fill',''+c.bg_color),N.setAttribute('stroke',''+c.bg_border_color),N.setAttribute('stroke-width',''+c.bg_border_width),N.setAttribute('class',c.class_bg),B.appendChild(N))}function r(){if(c.markers){for(var a,b=(c.width-c.markers_length)/2,d=b+c.markers_length,e='',f=c.markers,g=0;g<=f;g++)a=q(c.track_offset+c.track_length/f*g),e+='M '+b+','+a+' L '+d+','+a+' ';R=document.createElementNS(D,'path'),R.setAttributeNS(null,'d',e),R.setAttribute('stroke',''+c.markers_color),R.setAttribute('stroke-width',''+c.markers_width),R.setAttribute('stroke-linecap',c.linecap),R.setAttribute('class',c.class_markers),B.appendChild(R)}}function s(){c.track_bg&&(O=document.createElementNS(D,'rect'),O.setAttributeNS(null,'x',''+(c.width-c.track_bg_width)/2),O.setAttributeNS(null,'y',''+q(c.track_bg_offset+c.track_bg_length+c.track_bg_radius)),O.setAttributeNS(null,'width',''+c.track_bg_width),O.setAttributeNS(null,'height',''+(c.track_bg_length+2*c.track_bg_radius)),O.setAttributeNS(null,'rx',''+c.track_bg_radius),O.setAttributeNS(null,'ry',''+c.track_bg_radius),O.setAttribute('stroke',''+c.track_bg_border_color),O.setAttribute('stroke-width',''+c.track_bg_border_width),O.setAttribute('fill',''+c.track_bg_color),O.setAttribute('class',c.class_track_bg),B.appendChild(O))}function t(){c.track&&(!P&&(P=document.createElementNS(D,'rect'),P.setAttributeNS(null,'x',''+(c.width-c.track_width)/2),P.setAttributeNS(null,'width',''+c.track_width),P.setAttributeNS(null,'rx',''+c.track_radius),P.setAttributeNS(null,'ry',''+c.track_radius),P.setAttribute('stroke-width','0'),P.setAttribute('fill',''+c.track_color),P.setAttribute('class',c.class_track),B.appendChild(P)),P.setAttributeNS(null,'y',''+q(c.track_offset+L+c.track_radius)),P.setAttributeNS(null,'height',''+(L+2*+c.track_radius)))}function u(){c.cursor&&(!Q&&(Q=document.createElementNS(D,'rect'),Q.setAttributeNS(null,'x',''+(c.width-c.cursor_width)/2),Q.setAttributeNS(null,'width',''+c.cursor_width),Q.setAttributeNS(null,'height',''+c.cursor_height),Q.setAttributeNS(null,'rx',''+c.cursor_radius),Q.setAttributeNS(null,'ry',''+c.cursor_radius),Q.setAttribute('stroke-width','0'),Q.setAttribute('fill',''+c.cursor_color),Q.setAttribute('class',c.class_cursor),B.appendChild(Q)),Q.setAttributeNS(null,'y',''+q(c.track_offset+c.cursor_height/2+L)))}function v(){!c.value_text}function w(){p(),r(),s(),t(),u(),v()}function x(){t(),u(),T||(T=f()!==c.default_value),S}var z=Math.min,A=Math.max,y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!a)throw'You must pass a DOM node reference to the slider constructor';var B,C=!1,D='http://www.w3.org/2000/svg',E=100;('string'==typeof a||a instanceof String)&&(a=document.querySelector(a)),'svg'===a.nodeName.toLowerCase()?B=a:(B=document.createElementNS('http://www.w3.org/2000/svg','svg'),a.appendChild(B));var F={width:20,bg_width:20,bg_border_width:1,markers:4,markers_length:18,markers_width:1,track_bg_offset:5,track_bg_length:90,track_bg_width:8,track_bg_radius:3,track_bg_border_width:2,track_offset:5,track_length:90,track_width:6,track_radius:3,cursor_width:14,cursor_height:6,cursor_border_width:0,cursor_radius:2,default_value:0,initial_value:0,value_min:0,value_max:100,value_resolution:1,palette:'light',bg:!1,track_bg:!0,track:!0,cursor:!0,linecap:'butt',value_text:!0,format:function(a){return a},font_family:'sans-serif',font_size:25,font_weight:'bold',class_bg:'slider-bg',class_track_bg:'slider-track-bg',class_track:'slider-track',class_value:'slider-value',class_cursor:'slider-cursor',class_markers:'slider-markers',snap_to_steps:!1,mouse_wheel_acceleration:1,onchange:null},G=JSON.parse(a.dataset.config||'{}'),H=Object.assign({},F,e.default[F.palette],y,G),c=Object.assign(H,e.default[H.palette],y,G);B.setAttributeNS('http://www.w3.org/2000/xmlns/','xmlns:xlink','http://www.w3.org/1999/xlink'),B.setAttributeNS(null,'viewBox','0 0 '+c.width+' '+E);var I,J,K=0,L=0,M=1,N=null,O=null,P=null,Q=null,R=null,S=null,T=!1;return b(),w(),function(){B.addEventListener('mousedown',function(a){k(a)}),B.addEventListener('wheel',function(a){n(a)})}(),{set value(a){g(a),x()},set config(a){c=Object.assign({},F,y,a),b(),w()},enableDebug:function(){C=!0},disableDebug:function(){C=!1}}};var d=c(1),e=function(a){return a&&a.__esModule?a:{default:a}}(d)},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default={light:{bg_color:'#E0E0E0',bg_border_color:'#BDBDBD',track_bg_color:'#D0D0D0',track_bg_border_color:'#FFFFFF',track_color_init:'#64B5F6',track_color:'#42A5F5',cursor_color_init:'#64B5F6',cursor_color:'#3CA0F0',markers_color:'#AAAAAA',font_color:'#424242'},light2:{bg_color:'#B1DAEE',bg_border_color:'#569DC0',track_bg_color:'#B1DAEE',track_bg_border_color:'#888',track_color_init:'#569DC0',track_color:'#1D6D93',cursor_color_init:'#569DC0',cursor_color:'#1D6D93',markers_color:'#3680A4',font_color:'#1D6D93'},dark:{bg:!1,track_bg:!0,track:!0,cursor:!0,bg_color:'#333',bg_border_color:'#888',track_bg_color:'#555',track_bg_border_color:'#373738',track_color_init:'#999',track_color:'#bbb',cursor_color_init:'#999',cursor_color:'#d3d347',markers_color:'#999',font_color:'#FFEA00'}}}])});