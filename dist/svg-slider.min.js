(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define([],b):'object'==typeof exports?exports.svgSlider=b():a.svgSlider=b()})(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default=function(a){function b(){g(c.initial_value?c.initial_value:c.default_value)}function d(a){return null===c.value_resolution?a:Math.round(a/c.value_resolution)*c.value_resolution}function f(b){var a=void 0===b?O:b,e=a/c.track_length*(c.value_max-c.value_min)+c.value_min;return d(e)}function g(a){return N=a<c.value_min?c.value_min:a>c.value_max?c.value_max:a,h((a-c.value_min)/(c.value_max-c.value_min)*c.track_length),!0}function h(a,b){var d=O,e=b&&a!==O;O=B(C(a,0),c.track_length),e&&f(d)!==f()&&r()}function i(a){h(O+a,!0)}function j(a){var b=a.clientY-L.top,d=s(b/L.height*H+c.track_offset);h(d,!0)}function k(a){a.preventDefault(),L=E.getBoundingClientRect(),document.addEventListener('mousemove',l,!1),document.addEventListener('mouseup',m,!1),j(a),A()}function l(a){a.preventDefault(),j(a),A()}function m(){document.removeEventListener('mousemove',l,!1),document.removeEventListener('mouseup',m,!1)}function n(a){var b=Math.abs;a.preventDefault();var d=a.deltaY;return 0!==d&&(M>b(d)||!M)&&(M=b(d)),i(d/M*P*c.mouse_wheel_acceleration),A(),!1}function o(a){a.preventDefault(),L=E.getBoundingClientRect(),document.addEventListener('touchmove',p,{passive:!1}),document.addEventListener('touchend',q)}function p(a){a.preventDefault();var b=a.touches.length-1,d=a.touches[b].clientY-L.top,e=s(d/L.height*H+c.track_offset);h(e,!0),A()}function q(){document.removeEventListener('touchmove',p),document.removeEventListener('touchend',q)}function r(){var b=f(),d=new CustomEvent('change',{detail:b});a.dispatchEvent(d),c.onchange&&c.onchange(b)}function s(a){return B(C(H-a,0),H)}function t(){c.bg&&(Q=document.createElementNS(G,'rect'),Q.setAttributeNS(null,'x','0'),Q.setAttributeNS(null,'y','0'),Q.setAttributeNS(null,'width',''+c.width),Q.setAttributeNS(null,'height',''+H),Q.setAttributeNS(null,'rx','0'),Q.setAttributeNS(null,'ry','0'),Q.setAttribute('fill',''+c.bg_color),Q.setAttribute('stroke',''+c.bg_border_color),Q.setAttribute('stroke-width',''+c.bg_border_width),Q.setAttribute('class',c.class_bg),E.appendChild(Q))}function u(){if(c.markers){for(var a,b=(c.width-c.markers_length)/2,d=b+c.markers_length,e='',f=c.markers,g=0;g<=f;g++)a=s(c.track_offset+c.track_length/f*g),e+='M '+b+','+a+' L '+d+','+a+' ';U=document.createElementNS(G,'path'),U.setAttributeNS(null,'d',e),U.setAttribute('stroke',''+c.markers_color),U.setAttribute('stroke-width',''+c.markers_width),U.setAttribute('stroke-linecap',c.linecap),U.setAttribute('class',c.class_markers),E.appendChild(U)}}function v(){c.track_bg&&(R=document.createElementNS(G,'rect'),R.setAttributeNS(null,'x',''+(c.width-c.track_bg_width)/2),R.setAttributeNS(null,'y',''+s(c.track_bg_offset+c.track_bg_length+c.track_bg_radius)),R.setAttributeNS(null,'width',''+c.track_bg_width),R.setAttributeNS(null,'height',''+(c.track_bg_length+2*c.track_bg_radius)),R.setAttributeNS(null,'rx',''+c.track_bg_radius),R.setAttributeNS(null,'ry',''+c.track_bg_radius),R.setAttribute('stroke',''+c.track_bg_border_color),R.setAttribute('stroke-width',''+c.track_bg_border_width),R.setAttribute('fill',''+c.track_bg_color),R.setAttribute('class',c.class_track_bg),E.appendChild(R))}function w(){c.track&&(!S&&(S=document.createElementNS(G,'rect'),S.setAttributeNS(null,'x',''+(c.width-c.track_width)/2),S.setAttributeNS(null,'width',''+c.track_width),S.setAttributeNS(null,'rx',''+c.track_radius),S.setAttributeNS(null,'ry',''+c.track_radius),S.setAttribute('stroke-width','0'),S.setAttribute('fill',''+c.track_color),S.setAttribute('class',c.class_track),E.appendChild(S)),S.setAttributeNS(null,'y',''+s(c.track_offset+O+c.track_radius)),S.setAttributeNS(null,'height',''+(O+2*+c.track_radius)))}function x(){c.cursor&&(!T&&(T=document.createElementNS(G,'rect'),T.setAttributeNS(null,'x',''+(c.width-c.cursor_width)/2),T.setAttributeNS(null,'width',''+c.cursor_width),T.setAttributeNS(null,'height',''+c.cursor_height),T.setAttributeNS(null,'rx',''+c.cursor_radius),T.setAttributeNS(null,'ry',''+c.cursor_radius),T.setAttribute('stroke-width','0'),T.setAttribute('fill',''+c.cursor_color),T.setAttribute('class',c.class_cursor),E.appendChild(T)),T.setAttributeNS(null,'y',''+s(c.track_offset+c.cursor_height/2+O)))}function y(){!c.value_text}function z(){t(),u(),v(),w(),x(),y()}function A(){w(),x(),W||(W=f()!==c.default_value),V}var B=Math.min,C=Math.max,D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!a)throw'You must pass a DOM node reference to the slider constructor';var E,F=!1,G='http://www.w3.org/2000/svg',H=100;('string'==typeof a||a instanceof String)&&(a=document.querySelector(a)),'svg'===a.nodeName.toLowerCase()?E=a:(E=document.createElementNS('http://www.w3.org/2000/svg','svg'),a.appendChild(E));var I={width:20,bg_width:20,bg_border_width:1,markers:4,markers_length:18,markers_width:1,track_bg_offset:5,track_bg_length:90,track_bg_width:8,track_bg_radius:3,track_bg_border_width:2,track_offset:5,track_length:90,track_width:6,track_radius:3,cursor_width:14,cursor_height:6,cursor_border_width:0,cursor_radius:2,default_value:0,initial_value:0,value_min:0,value_max:100,value_resolution:1,palette:'light',bg:!1,track_bg:!0,track:!0,cursor:!0,linecap:'butt',value_text:!0,format:function(a){return a},font_family:'sans-serif',font_size:25,font_weight:'bold',class_bg:'slider-bg',class_track_bg:'slider-track-bg',class_track:'slider-track',class_value:'slider-value',class_cursor:'slider-cursor',class_markers:'slider-markers',snap_to_steps:!1,mouse_wheel_acceleration:1,onchange:null},J=JSON.parse(a.dataset.config||'{}'),K=Object.assign({},I,e.default[I.palette],D,J),c=Object.assign(K,e.default[K.palette],D,J);E.setAttributeNS('http://www.w3.org/2000/xmlns/','xmlns:xlink','http://www.w3.org/1999/xlink'),E.setAttributeNS(null,'viewBox','0 0 '+c.width+' '+H);var L,M,N=0,O=0,P=1,Q=null,R=null,S=null,T=null,U=null,V=null,W=!1;return b(),z(),function(){E.addEventListener('mousedown',function(a){k(a)}),E.addEventListener('wheel',function(a){n(a)}),E.addEventListener('touchstart',o,{passive:!1})}(),{set value(a){g(a),A()},set config(a){c=Object.assign({},I,D,a),b(),z()},enableDebug:function(){F=!0},disableDebug:function(){F=!1}}};var d=c(1),e=function(a){return a&&a.__esModule?a:{default:a}}(d)},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),b.default={light:{bg_color:'#E0E0E0',bg_border_color:'#BDBDBD',track_bg_color:'#D0D0D0',track_bg_border_color:'#FFFFFF',track_color_init:'#64B5F6',track_color:'#42A5F5',cursor_color_init:'#64B5F6',cursor_color:'#3CA0F0',markers_color:'#AAAAAA',font_color:'#424242'},light2:{bg_color:'#B1DAEE',bg_border_color:'#569DC0',track_bg_color:'#B1DAEE',track_bg_border_color:'#888',track_color_init:'#569DC0',track_color:'#1D6D93',cursor_color_init:'#569DC0',cursor_color:'#1D6D93',markers_color:'#3680A4',font_color:'#1D6D93'},dark:{bg:!1,track_bg:!0,track:!0,cursor:!0,bg_color:'#333',bg_border_color:'#888',track_bg_color:'#555',track_bg_border_color:'#373738',track_color_init:'#999',track_color:'#bbb',cursor_color_init:'#999',cursor_color:'#d3d347',markers_color:'#999',font_color:'#FFEA00'}}}])});