!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.svgSlider=e():t.svgSlider=e()}(window,function(){return function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={light:{bg_color:"#E0E0E0",bg_border_color:"#BDBDBD",track_bg_color:"#D0D0D0",track_bg_border_color:"#FFFFFF",track_color_init:"#64B5F6",track_color:"#42A5F5",cursor_color_init:"#64B5F6",cursor_color:"#3CA0F0",markers_color:"#AAAAAA",font_color:"#424242"},light2:{bg_color:"#B1DAEE",bg_border_color:"#569DC0",track_bg_color:"#B1DAEE",track_bg_border_color:"#888",track_color_init:"#569DC0",track_color:"#1D6D93",cursor_color_init:"#569DC0",cursor_color:"#1D6D93",markers_color:"#3680A4",font_color:"#1D6D93"},dark:{bg:!1,track_bg:!0,track:!0,cursor:!0,bg_color:"#333",bg_border_color:"#888",track_bg_color:"#555",track_bg_border_color:"#373738",track_color_init:"#999",track_color:"#bbb",cursor_color_init:"#999",cursor_color:"#d3d347",markers_color:"#999",font_color:"#FFEA00"}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw"You must pass a DOM node reference to the slider constructor";var r=!1,o="http://www.w3.org/2000/svg",n=100,u=void 0;("string"==typeof t||t instanceof String)&&(t=document.querySelector(t)),"svg"===t.nodeName.toLowerCase()?u=t:(u=document.createElementNS("http://www.w3.org/2000/svg","svg"),t.appendChild(u));var c={width:20,bg_width:20,bg_border_width:1,markers:4,markers_length:18,markers_width:1,track_bg_offset:5,track_bg_length:90,track_bg_width:8,track_bg_radius:3,track_bg_border_width:2,track_offset:5,track_length:90,track_width:6,track_radius:3,cursor_width:14,cursor_height:6,cursor_border_width:0,cursor_radius:2,default_value:0,initial_value:0,value_min:0,value_max:100,value_resolution:1,palette:"light",bg:!1,track_bg:!0,track:!0,cursor:!0,linecap:"butt",value_text:!0,format:function(t){return t},font_family:"sans-serif",font_size:25,font_weight:"bold",class_bg:"slider-bg",class_track_bg:"slider-track-bg",class_track:"slider-track",class_value:"slider-value",class_cursor:"slider-cursor",class_markers:"slider-markers",snap_to_steps:!1,mouse_wheel_acceleration:1,onchange:null},a=JSON.parse(t.dataset.config||"{}"),i=Object.assign({},c,l.default[c.palette],e,a),s=Object.assign(i,l.default[i.palette],e,a);u.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),u.setAttributeNS(null,"viewBox","0 0 "+s.width+" "+n);var _=0,d=1,b=null,g=null,h=null,f=null,k=null,v=null,m=void 0,w=void 0,p=!1;function A(){N(s.initial_value?s.initial_value:s.default_value)}function S(t){return function(t){return null===s.value_resolution?t:Math.round(t/s.value_resolution)*s.value_resolution}((void 0===t?_:t)/s.track_length*(s.value_max-s.value_min)+s.value_min)}function N(t){return t<s.value_min?s.value_min:t>s.value_max?s.value_max:t,x((t-s.value_min)/(s.value_max-s.value_min)*s.track_length),!0}function x(e,o){var n=_,l=o&&e!==_;_=Math.min(Math.max(e,0),s.track_length),l&&S(n)!==S()&&function(){r&&console.log("slider value has changed");var e=S(),o=new CustomEvent("change",{detail:e});t.dispatchEvent(o),s.onchange&&s.onchange(e)}()}function D(t){x(F((t.clientY-m.top)/m.height*n+s.track_offset),!0)}function E(t){t.preventDefault(),D(t),P()}function y(){r&&console.log("endDrag"),document.removeEventListener("mousemove",E,!1),document.removeEventListener("mouseup",y,!1)}function C(t){r&&console.log("startTouch"),t.preventDefault(),m=u.getBoundingClientRect(),document.addEventListener("touchmove",M,{passive:!1}),document.addEventListener("touchend",L)}function M(t){r&&console.log("handleTouch",t.touches),t.preventDefault();var e=t.touches.length-1;x(F((t.touches[e].clientY-m.top)/m.height*n+s.track_offset),!0),P()}function L(){r&&console.log("endTouch"),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",L)}function F(t){return Math.min(Math.max(n-t,0),n)}function j(){s.track&&(h||((h=document.createElementNS(o,"rect")).setAttributeNS(null,"x",""+(s.width-s.track_width)/2),h.setAttributeNS(null,"width",""+s.track_width),h.setAttributeNS(null,"rx",""+s.track_radius),h.setAttributeNS(null,"ry",""+s.track_radius),h.setAttribute("stroke-width","0"),h.setAttribute("fill",""+s.track_color),h.setAttribute("class",s.class_track),u.appendChild(h)),h.setAttributeNS(null,"y",""+F(s.track_offset+_+s.track_radius)),h.setAttributeNS(null,"height",""+(_+2*+s.track_radius)))}function O(){s.cursor&&(f||((f=document.createElementNS(o,"rect")).setAttributeNS(null,"x",""+(s.width-s.cursor_width)/2),f.setAttributeNS(null,"width",""+s.cursor_width),f.setAttributeNS(null,"height",""+s.cursor_height),f.setAttributeNS(null,"rx",""+s.cursor_radius),f.setAttributeNS(null,"ry",""+s.cursor_radius),f.setAttribute("stroke-width","0"),f.setAttribute("fill",""+s.cursor_color),f.setAttribute("class",s.class_cursor),u.appendChild(f)),f.setAttributeNS(null,"y",""+F(s.track_offset+s.cursor_height/2+_)))}function B(){s.bg&&((b=document.createElementNS(o,"rect")).setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width",""+s.width),b.setAttributeNS(null,"height",""+n),b.setAttributeNS(null,"rx","0"),b.setAttributeNS(null,"ry","0"),b.setAttribute("fill",""+s.bg_color),b.setAttribute("stroke",""+s.bg_border_color),b.setAttribute("stroke-width",""+s.bg_border_width),b.setAttribute("class",s.class_bg),u.appendChild(b)),function(){if(s.markers){for(var t=(s.width-s.markers_length)/2,e=t+s.markers_length,n="",l=s.markers,c=0;c<=l;c++){var a=F(s.track_offset+s.track_length/l*c);r&&console.log("M "+t+","+a+" L "+e+","+a+" "),n+="M "+t+","+a+" L "+e+","+a+" "}(k=document.createElementNS(o,"path")).setAttributeNS(null,"d",n),k.setAttribute("stroke",""+s.markers_color),k.setAttribute("stroke-width",""+s.markers_width),k.setAttribute("stroke-linecap",s.linecap),k.setAttribute("class",s.class_markers),u.appendChild(k)}}(),s.track_bg&&((g=document.createElementNS(o,"rect")).setAttributeNS(null,"x",""+(s.width-s.track_bg_width)/2),g.setAttributeNS(null,"y",""+F(s.track_bg_offset+s.track_bg_length+s.track_bg_radius)),g.setAttributeNS(null,"width",""+s.track_bg_width),g.setAttributeNS(null,"height",""+(s.track_bg_length+2*s.track_bg_radius)),g.setAttributeNS(null,"rx",""+s.track_bg_radius),g.setAttributeNS(null,"ry",""+s.track_bg_radius),g.setAttribute("stroke",""+s.track_bg_border_color),g.setAttribute("stroke-width",""+s.track_bg_border_width),g.setAttribute("fill",""+s.track_bg_color),g.setAttribute("class",s.class_track_bg),u.appendChild(g)),j(),O(),s.value_text}function P(){var t,e;r&&console.log("redraw"),j(),O(),p||(p=S()!==s.default_value),v&&(v.textContent=(e=S(t),s.format(e)))}return A(),B(),u.addEventListener("mousedown",function(t){!function(t){r&&console.log("startDrag"),t.preventDefault(),m=u.getBoundingClientRect(),document.addEventListener("mousemove",E,!1),document.addEventListener("mouseup",y,!1),D(t),P()}(t)}),u.addEventListener("wheel",function(t){!function(t){t.preventDefault();var e,r=t.deltaY;0!==r&&(w>Math.abs(r)||!w)&&(w=Math.abs(r)),e=r/w*d*s.mouse_wheel_acceleration,x(_+e,!0),P()}(t)}),u.addEventListener("touchstart",C,{passive:!1}),{set value(t){N(t),P()},set config(t){s=Object.assign({},c,e,t),A(),B()},enableDebug:function(){r=!0,console.log("debug enabled")},disableDebug:function(){r=!1}}};var o,n=r(0),l=(o=n)&&o.__esModule?o:{default:o}}])});